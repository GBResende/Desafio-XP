DROP DATABASE IF EXISTS heroku_e8c7c6cdd8ea611;

CREATE DATABASE IF NOT EXISTS heroku_e8c7c6cdd8ea611;

USE heroku_e8c7c6cdd8ea611;

SET @@auto_increment_increment = 1;

CREATE TABLE stocks (
  id INT NOT NULL AUTO_INCREMENT,
  stock VARCHAR(255) NOT NULL,
  ticker VARCHAR(255) NOT NULL,
  quantity INT NOT NULL,
  value DECIMAL(19, 2) NOT NULL,
  PRIMARY KEY (id)
);

CREATE TABLE users (
  id INT NOT NULL AUTO_INCREMENT,
  name VARCHAR(255) NOT NULL,
  email VARCHAR(255) NOT NULL,
  password VARCHAR(255) NOT NULL,
  balance DECIMAL(19, 2) NOT NULL,
  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (id)
);

CREATE TABLE user_ops (
    id INT NOT NULL AUTO_INCREMENT,
    user_id INT NOT NULL,
    stock_id INT NOT NULL,
    quantity INT NOT NULL,
    operation BOOLEAN NOT NULL,
    createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY (id)
);

ALTER TABLE user_ops ADD FOREIGN KEY (user_id) REFERENCES users(id);
ALTER TABLE user_ops ADD FOREIGN KEY (stock_id) REFERENCES stocks(id);

CREATE TABLE wallet (
    id INT NOT NULL AUTO_INCREMENT,
    user_id INT NOT NULL,
    stock_id INT NOT NULL,
    quantity INT NOT NULL,
    updatedAt DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (id)
);
ALTER TABLE wallet ADD FOREIGN KEY (user_id) REFERENCES users(id);
ALTER TABLE wallet ADD FOREIGN KEY (stock_id) REFERENCES stocks(id);



INSERT INTO users (name, email, password, balance) 
VALUES 
('gabDev', 'gabresendemkt@gmail.com', 'passaportexp', '4000.00');

INSERT INTO stocks (stock, ticker, quantity, value)
VALUES ('ABC BRASIL PN', 'ABCB4',16.09,'211'),
('ALPARGATAS PN', 'ALPA4',19.59,'322'),
('ALUPAR UNT', 'ALUP11',26.91,'372'),
('AMBEV ON', 'ABEV3',14.48,'115'),
('ANIMA ON', 'ANIM3',4.39,'277'),
('AREZZO CO ON', 'ARZZ3',73.83,'133'),
('AZUL PN', 'AZUL4',12.54,'187'),
('B3 ON', 'B3SA3',10.21,'197'),
('BANRISUL PNB', 'BRSR6',9.50,'268'),
('BB SEGURIDADE ON', 'BBSE3',27.01,'241'),
('BK BRASIL ON', 'BKBR3',5.63,'123'),
('BR MALLS PART ON', 'BRML3',7.55,'189'),
('BR PROPERTIES ON', 'BRPR3',8.31,'149'),
('BRADESCO ON', 'BBDC3',14.33,'356'),
('BRADESCO PN', 'BBDC4',17.26,'165'),
('BRADESPAR PN', 'BRAP4',22.6,'129'),
('BRASIL ON', 'BBAS3',34.66,'155'),
('BRASKEM PNA', 'BRKM5',34.54,'120'),
('BRF ON', 'BRFS3',14.96,'399'),
('BTGP BANCO UNT', 'BPAC11',22.71,'210'),
('CAMIL ON', 'CAML3',9.6,'200'),
('CARREFOUR BR ON', 'CRFB3',17.07,'327'),
('CCR ON', 'CCRO3',12.04,'255'),
('CEMIG ON', 'CMIG3',15.68,'330'),
('CEMIG PN', 'CMIG4',10.39,'215'),
('CIELO ON', 'CIEL3',4.15,'383'),
('COMGAS PNA', 'CGAS5',120,'200'),
('COPASA ON I12', 'CSMG3',11.35,'279'),
('COPEL PNB', 'CPLE6',6.83,'124'),
('COSAN ON', 'CSAN3',17.47,'164'),
('COSAN LOG ON', 'RLOG3',22.32,'147'),
('CPFL ENERGIA ON', 'CPFE3',31.75,'193'),
('CVC BRASIL ON', 'CVCB3',6.55,'109'),
('CYRELA REALT ON', 'CYRE3',12.13,'224'),
('DIRECIONAL ON', 'DIRR3',11.11,'324'),
('DOMMO ON', 'DMMO3',1.46,'236'),
('ECORODOVIAS ON', 'ECOR3',5.27,'114'),
('ELETROBRAS ON', 'ELET3',44.22,'100'),
('ELETROBRAS PNB', 'ELET6',45.37,'136'),
('EMBRAER ON', 'EMBR3',12.17,'161'),
('ENERGIAS DO BRASIL ON', 'ENBR3',20.83,'291'),
('ENERGISA UNIT', 'ENGI11',39.77,'364'),
('ENEVA ON', 'ENEV3',14.48,'100'),
('ENGIE BRASIL ON', 'EGIE3',41.71,'251'),
('EQUATORIAL ON', 'EQTL3',22.67,'100'),
('EVEN ON', 'EVEN3',4.59,'304'),
('EZTEC ON', 'EZTC3',15.09,'113'),
('FERBASA PN', 'FESA4',44.10,'369'),
('FLEURY ON', 'FLRY3',15.26,'303'),
('GAFISA ON', 'GFSA3',1.18,'198'),
('GERDAU PN', 'GGBR4',23.99,'176'),
('METALÚRGICA GERDAU PN', 'GOAU4',9.93,'369'),
('GOL PN', 'GOLL4',8.43,'338'),
('GRENDENE ON', 'GRND3',6.62,'382'),
('GUARARAPES CONFECÇÕES ON', 'GUAR3',7.44,'224'),
('HAPVIDA ON', 'HAPV3',5.75,'328'),
('HELBOR ON', 'HBOR3',2.28,'377'),
('HYPERA ON', 'HYPE3',40.50,'239'),
('IHPARDINI ON', 'PARD3',19.80,'212'),
('IMC ON', 'MEAL3',1.54,'249'),
('NOTRE DAME INTERMÉDICA PARTICIPAÇÕES', 'GNDI3',66.95,'141'),
('IOCHPE-MAXION ON', 'MYPK3',15.42,'165'),
('IRB BRASIL RESSEGUROS ON', 'IRBR3',2.16,'302'),
('ITAÚSA PN', 'ITSA4',8.59,'266'),
('ITAÚ UNIBANCO ON', 'ITUB3',20.31,'183'),
('ITAÚ UNIBANCO PN', 'ITUB4',23.62,'147'),
('JBS ON', 'JBSS3',29.63,'399'),
('KLABIN UNT', 'KLBN11',18.80,'167'),
('LIGHT ON', 'LIGT3',5.46,'257'),
('LOCALIZA ON', 'RENT3',54.39,'111'),
('LOJAS MARISA ON', 'AMAR3',2.04,'351'),
('LOJAS RENNER ON', 'LREN3',24.74,'181'),
('M.DIAS BRANCO ON', 'MDIA3',30.18,'310'),
('MAGAZINE LUIZA ON', 'MGLU3',2.79,'270'),
('MARCOPOLO PN', 'POMO4',2.50,'134'),
('MARFRIG ON', 'MRFG3',12.75,'120'),
('METAL LEVE ON', 'LEVE3',23.01,'395'),
('MINERVA ON', 'BEEF3',13.65,'156'),
('MOVIDA ON', 'MOVI3',12.27,'392'),
('MRV ON', 'MRVE3',9.07,'128'),
('MULTIPLAN ON', 'MULT3',23.93,'222'),
('ODONTOPREV ON', 'ODPV3',9.05,'204'),
('OMEGA GERAÇÃO ON', 'OMGE3',27.81,'153'),
('PETROBRAS ON', 'PETR3',31.67,'317'),
('PETROBRAS PN', 'PETR4',29.18,'260'),
('PETRO RIO ON', 'PRIO3',22.36,'107'),
('PORTO SEGURO ON', 'PSSA3',17.61,'374'),
('PORTOBELLO ON', 'PTBL3',7,'253'),
('QUALICORP ON', 'QUAL3',10.42,'330'),
('RAIA DROGASIL ON', 'RADL3',20.19,'379'),
('RANDON PART PN', 'RAPT4',9.81,'115'),
('RUMO ON', 'RAIL3',15.90,'203'),
('SABESP ON', 'SBSP3',42.61,'385'),
('SANEPAR UNIT', 'SAPR11',17.73,'265'),
('SANTANDER BR UNIT', 'SANB11',28.44,'134'),
('SANTOS BR PART ON', 'STBP3',6.13,'146'),
('SÃO MARTINHO ON', 'SMTO3',34.32,'106'),
('SER EDUCACIONAL ON', 'SEER3',6.17,'118'),
('SID NACIONAL ON', 'CSNA3',14.34,'201'),
('SLC AGRICOLA ON', 'SLCE3',41.54,'184'),
('SUL AMERICA UNT', 'SULA11',19.98,'249'),
('SUZANO PAPEL ON', 'SUZB3',45.95,'382'),
('TAESA UNIT', 'TAEE11',39.27,'367'),
('TEGMA ON', 'TGMA3',12.93,'147'),
('TOTVS ON', 'TOTS3',24.67,'231'),
('TRANS PAULISTA PN', 'TRPL4',22.85,'357'),
('TUPY ON', 'TUPY3',21.78,'378'),
('ULTRAPAR ON', 'UGPA3',12.01,'286'),
('UNIPAR PNB', 'UNIP6',88.26,'207'),
('USIMINAS PNA', 'USIM5',8.75,'307'),
('VALE ON', 'VALE3',68.88,'272'),
('VALID ON', 'VLID3',10.25,'337'),
('VULCABRAS ON', 'VULC3',10.16,'378'),
('WEG ON', 'WEGE3',26.96,'259'),
('WIZ ON', 'WIZS3',7.26,'343'),
('VIVARA ON', 'VIVA3',21.10,'331'),
('CEA MODAS ON', 'CEAB3',2.39,'217'),
('YDUQS PARTICIPAÇÕES ON', 'YDUQ3',14.12,'139'),
('COGNA ON', 'COGN3',2.33,'244'),
('BIOMM ON', 'BIOM3',7.59,'350'),
('BANCO PAN PN', 'BPAN4',6.43,'206'),
('CSU CARDSYST ON', 'CARD3',13.36,'255'),
('FERTILIZANTES HERINGER ON', 'FHER3',17.92,'270'),
('FRAS-LE ON', 'FRAS3',9.99,'317'),
('METALFRIO ON', 'FRIO3',44.99,'182'),
('POMIFRUTAS ON', 'FRTA3',3.86,'309'),
('GENERAL SHOPPING ON', 'GSHP3',23.80,'121'),
('GP INVESTMENTS', 'GPIV33',3.81,'215'),
('LOPES BRASIL ON', 'LPSB3',2.56,'336'),
('LOG-IN ON', 'LOGN3',27.93,'111'),
('MANGELS INDL ON', 'MGEL3',74.10,'384'),
('MILLS ON', 'MILS3',6.42,'280'),
('OUROFINO ON', 'OFSA3',19.85,'180'),
('OI ON', 'OIBR3',0.50,'321'),
('PROFARMA ON', 'PFRM3',3.12,'260'),
('ROMI ON NM', 'ROMI3',12.02,'133'),
('PARANAPANEMA ON', 'PMAM3',7.24,'249'),
('ROSSI RESIDENCIAL ON', 'RSID3',2.34,'272'),
('SAO CARLOS ON', 'SCAR3',25,'393'),
('SPRINGS ON', 'SGPS3',3.27,'378'),
('TIME FOR FUN ON', 'SHOW3',2.51,'254'),
('SARAIVA LIVREIROS ON', 'SLED3',9,'337'),
('TECNISA ON', 'TCSA3',2.24,'185'),
('TECHNOS ON', 'TECN3',2.35,'327'),
('TELEBRAS PN', 'TELB4',12.20,'241'),
('TENDA ON', 'TEND3',4.62,'352'),
('TERRA SANTA ON', 'TESA3',49.35,'359'),
('TRIUNFO PART ON', 'TPIS3',1.24,'340'),
('TRISUL ON', 'TRIS3',3.44,'199'),
('VIVER ON', 'VIVR3',0.6,'172'),
('GRUPO NATURA ON', 'NTCO3',15.94,'133'),
('P.ACUCAR - CBD ON', 'PCAR3',16.48,'238');
